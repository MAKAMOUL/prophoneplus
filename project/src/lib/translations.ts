export type Language = 'en' | 'fr';

export const translations = {
  en: {
    common: {
      signIn: 'Sign In',
      signOut: 'Sign Out',
      signingIn: 'Signing in...',
      email: 'Email Address',
      password: 'Password',
      enterEmail: 'Enter your email',
      enterPassword: 'Enter your password',
      cancel: 'Cancel',
      save: 'Save',
      add: 'Add',
      update: 'Update',
      delete: 'Delete',
      edit: 'Edit',
      search: 'Search',
      export: 'Export',
      import: 'Import',
      viewAll: 'View all',
      online: 'Online',
      offline: 'Offline',
      syncing: 'Syncing',
      pendingSync: 'Pending sync',
      connectionRestored: 'Connection restored',
      workingOffline: 'Working offline',
      welcome: 'Welcome',
      loading: 'Loading...',
      noData: 'No data',
    },
    auth: {
      signInToAccount: 'Sign in to your account',
      inventorySystem: 'Inventory Management System',
      demoAccounts: 'Demo Accounts',
      admin: 'Admin',
      worker: 'Worker',
      invalidCredentials: 'Invalid email or password',
      noAccount: 'No account found with this email',
      wrongPassword: 'Incorrect password',
      tooManyAttempts: 'Too many attempts. Please try again later.',
      failedSignIn: 'Failed to sign in. Please try again.',
    },
    nav: {
      dashboard: 'Dashboard',
      products: 'Products',
      categories: 'Categories',
      sales: 'Sales',
      users: 'Users',
      alerts: 'Alerts',
      addProduct: 'Add Product',
      makeSale: 'Make Sale',
      mySales: 'My Sales',
    },
    dashboard: {
      title: 'Dashboard',
      overview: 'Overview of your inventory',
      totalProducts: 'Total Products',
      totalCategories: 'Categories',
      totalSales: 'Total Sales',
      lowStockItems: 'Low Stock Items',
      revenueOverview: 'Revenue Overview',
      totalRevenue: 'Total Revenue',
      todayRevenue: "Today's Revenue",
      recentSales: 'Recent Sales',
      noSales: 'No sales yet',
      lowStockAlerts: 'Low Stock Alerts',
      viewAllAlerts: 'View all {count} alerts',
      salesCount: '{count} sales',
      left: 'left',
      min: 'min',
    },
    products: {
      title: 'Products',
      productsTotal: '{count} products total',
      addProduct: 'Add Product',
      editProduct: 'Edit Product',
      searchProducts: 'Search products...',
      allCategories: 'All Categories',
      product: 'Product',
      category: 'Category',
      quantity: 'Quantity',
      price: 'Price',
      actions: 'Actions',
      noProducts: 'No products found',
      productName: 'Product Name',
      selectCategory: 'Select category',
      minStockLevel: 'Minimum Stock Level',
      productImage: 'Product Image',
      clickToUpload: 'Click to upload image',
      deleteConfirm: 'Are you sure you want to delete this product?',
      importFailed: 'Failed to import products. Please check the file format.',
    },
    categories: {
      title: 'Categories',
      categoriesTotal: '{count} categories total',
      addCategory: 'Add Category',
      editCategory: 'Edit Category',
      categoryName: 'Category Name',
      description: 'Description',
      productsCount: '{count} products',
      noCategories: 'No categories yet',
      createFirst: 'Create your first category to organize your products.',
      deleteConfirm: 'Are you sure you want to delete this category? Products in this category will not be deleted.',
    },
    sales: {
      title: 'Sales',
      salesTotal: '{count} sales total',
      searchSales: 'Search sales...',
      allTime: 'All Time',
      today: 'Today',
      thisWeek: 'This Week',
      thisMonth: 'This Month',
      date: 'Date',
      soldBy: 'Sold By',
      total: 'Total',
      noSales: 'No sales found',
      mySales: 'My Sales',
      yourSalesHistory: 'Your sales history',
      noSalesYet: "You haven't made any sales yet",
    },
    makeSale: {
      title: 'Make Sale',
      saleComplete: 'Sale Complete!',
      changeProduct: 'Change Product',
      lowStock: 'Low stock: {count} remaining',
      available: '{count} available',
      subtotal: 'Subtotal',
      completeSale: 'Complete Sale',
      noProductsAvailable: 'No products available',
      failedSale: 'Failed to complete sale',
    },
    users: {
      title: 'Users',
      usersTotal: '{count} users total',
      addWorker: 'Add Worker',
      name: 'Name',
      role: 'Role',
      joined: 'Joined',
      workerName: 'Worker Name',
      userExists: 'A user with this email already exists',
      failedCreate: 'Failed to create worker',
    },
    alerts: {
      title: 'Low Stock Alerts',
      alertsCount: '{count} items need attention',
      currentStock: 'Current Stock',
      minStock: 'Min Stock',
      status: 'Status',
      critical: 'Critical',
      low: 'Low',
      outOfStock: 'Out of Stock',
      restockNeeded: 'Restock needed',
      noAlerts: 'No low stock alerts',
      allStocked: 'All products are well stocked!',
    },
    addProduct: {
      title: 'Add New Product',
      description: 'Enter product details below',
      creating: 'Creating...',
      createProduct: 'Create Product',
      success: 'Product added successfully',
    },
  },
  fr: {
    common: {
      signIn: 'Se connecter',
      signOut: 'Se deconnecter',
      signingIn: 'Connexion...',
      email: 'Adresse e-mail',
      password: 'Mot de passe',
      enterEmail: 'Entrez votre e-mail',
      enterPassword: 'Entrez votre mot de passe',
      cancel: 'Annuler',
      save: 'Enregistrer',
      add: 'Ajouter',
      update: 'Modifier',
      delete: 'Supprimer',
      edit: 'Modifier',
      search: 'Rechercher',
      export: 'Exporter',
      import: 'Importer',
      viewAll: 'Voir tout',
      online: 'En ligne',
      offline: 'Hors ligne',
      syncing: 'Synchronisation',
      pendingSync: 'En attente de sync',
      connectionRestored: 'Connexion retablie',
      workingOffline: 'Mode hors ligne',
      welcome: 'Bienvenue',
      loading: 'Chargement...',
      noData: 'Aucune donnee',
    },
    auth: {
      signInToAccount: 'Connectez-vous a votre compte',
      inventorySystem: "Systeme de gestion d'inventaire",
      demoAccounts: 'Comptes de demonstration',
      admin: 'Admin',
      worker: 'Employe',
      invalidCredentials: 'E-mail ou mot de passe invalide',
      noAccount: 'Aucun compte trouve avec cet e-mail',
      wrongPassword: 'Mot de passe incorrect',
      tooManyAttempts: 'Trop de tentatives. Veuillez reessayer plus tard.',
      failedSignIn: 'Echec de connexion. Veuillez reessayer.',
    },
    nav: {
      dashboard: 'Tableau de bord',
      products: 'Produits',
      categories: 'Categories',
      sales: 'Ventes',
      users: 'Utilisateurs',
      alerts: 'Alertes',
      addProduct: 'Ajouter produit',
      makeSale: 'Faire une vente',
      mySales: 'Mes ventes',
    },
    dashboard: {
      title: 'Tableau de bord',
      overview: "Apercu de votre inventaire",
      totalProducts: 'Total produits',
      totalCategories: 'Categories',
      totalSales: 'Total ventes',
      lowStockItems: 'Stock faible',
      revenueOverview: 'Apercu des revenus',
      totalRevenue: 'Revenu total',
      todayRevenue: "Revenu d'aujourd'hui",
      recentSales: 'Ventes recentes',
      noSales: 'Aucune vente',
      lowStockAlerts: 'Alertes stock faible',
      viewAllAlerts: 'Voir les {count} alertes',
      salesCount: '{count} ventes',
      left: 'restant',
      min: 'min',
    },
    products: {
      title: 'Produits',
      productsTotal: '{count} produits au total',
      addProduct: 'Ajouter produit',
      editProduct: 'Modifier produit',
      searchProducts: 'Rechercher des produits...',
      allCategories: 'Toutes les categories',
      product: 'Produit',
      category: 'Categorie',
      quantity: 'Quantite',
      price: 'Prix',
      actions: 'Actions',
      noProducts: 'Aucun produit trouve',
      productName: 'Nom du produit',
      selectCategory: 'Selectionner une categorie',
      minStockLevel: 'Niveau de stock minimum',
      productImage: 'Image du produit',
      clickToUpload: 'Cliquez pour telecharger',
      deleteConfirm: 'Etes-vous sur de vouloir supprimer ce produit?',
      importFailed: "Echec de l'importation. Verifiez le format du fichier.",
    },
    categories: {
      title: 'Categories',
      categoriesTotal: '{count} categories au total',
      addCategory: 'Ajouter categorie',
      editCategory: 'Modifier categorie',
      categoryName: 'Nom de la categorie',
      description: 'Description',
      productsCount: '{count} produits',
      noCategories: 'Aucune categorie',
      createFirst: 'Creez votre premiere categorie pour organiser vos produits.',
      deleteConfirm: 'Etes-vous sur de vouloir supprimer cette categorie? Les produits de cette categorie ne seront pas supprimes.',
    },
    sales: {
      title: 'Ventes',
      salesTotal: '{count} ventes au total',
      searchSales: 'Rechercher des ventes...',
      allTime: 'Tout le temps',
      today: "Aujourd'hui",
      thisWeek: 'Cette semaine',
      thisMonth: 'Ce mois',
      date: 'Date',
      soldBy: 'Vendu par',
      total: 'Total',
      noSales: 'Aucune vente trouvee',
      mySales: 'Mes ventes',
      yourSalesHistory: 'Votre historique de ventes',
      noSalesYet: "Vous n'avez pas encore effectue de vente",
    },
    makeSale: {
      title: 'Faire une vente',
      saleComplete: 'Vente terminee!',
      changeProduct: 'Changer de produit',
      lowStock: 'Stock faible: {count} restant',
      available: '{count} disponible',
      subtotal: 'Sous-total',
      completeSale: 'Terminer la vente',
      noProductsAvailable: 'Aucun produit disponible',
      failedSale: 'Echec de la vente',
    },
    users: {
      title: 'Utilisateurs',
      usersTotal: '{count} utilisateurs au total',
      addWorker: 'Ajouter employe',
      name: 'Nom',
      role: 'Role',
      joined: 'Inscrit le',
      workerName: "Nom de l'employe",
      userExists: 'Un utilisateur avec cet e-mail existe deja',
      failedCreate: "Echec de la creation de l'employe",
    },
    alerts: {
      title: 'Alertes stock faible',
      alertsCount: '{count} articles necessitent attention',
      currentStock: 'Stock actuel',
      minStock: 'Stock min',
      status: 'Statut',
      critical: 'Critique',
      low: 'Faible',
      outOfStock: 'Rupture de stock',
      restockNeeded: 'Reapprovisionnement necessaire',
      noAlerts: 'Aucune alerte de stock',
      allStocked: 'Tous les produits sont bien approvisionnes!',
    },
    addProduct: {
      title: 'Ajouter un nouveau produit',
      description: 'Entrez les details du produit ci-dessous',
      creating: 'Creation...',
      createProduct: 'Creer le produit',
      success: 'Produit ajoute avec succes',
    },
  },
} as const;

export type TranslationKey = keyof typeof translations.en;
export type Translations = typeof translations.en;

export function t(
  translations: Translations,
  category: keyof Translations,
  key: string,
  params?: Record<string, string | number>
): string {
  const categoryObj = translations[category] as Record<string, string>;
  let text = categoryObj?.[key] || key;

  if (params) {
    Object.entries(params).forEach(([paramKey, value]) => {
      text = text.replace(`{${paramKey}}`, String(value));
    });
  }

  return text;
}
